{% extends "base.html" %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static "css/styles.css" %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.0-beta3/css/bootstrap.min.css">
    <style>
        .carousel-item img {
            width: 150px;
            height: 200px;
            object-fit: cover;
        }

    </style>
{% endblock %}

{% block content %}
    <div class="carousel">
        <h2>The best from Apple →</h2>
        <p>Browse our favorite gifts from Apple</p>
        <div class="carousel-wrapper">
            <div class="carousel-container">
                {% for product in products %}
                    <div class="carousel-item2" data-title="{{ product.name }}" data-price="{{ product.price }}$"
                         data-description="{{ product.description }}" data-img="{{ product.data_img }}">
                        <div id="carouselExampleIndicators{{ product.id }}" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false">
                            <div class="carousel-inner">
                                {% for picture_url in product.pictures %}
                                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                        <img src="{{ picture_url }}" class="d-block w-100" alt="{{ product.name }}">
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <p>{{ product.name }}</p>
                        <p>{{ product.price }}$</p>
                        <p>{{ product.description| safe }}</p>
                        <button class="add-btn">+Add</button>
                    </div>
                {% endfor %}
            </div>
            <div class="carousel-controls">
                <button class="prev">❮</button>
                <button class="next">❯</button>
            </div>
        </div>
    </div>

    <!-- Popup Products -->
    <div id="fullscreen-popup" class="fullscreen-popup">
        <div class="fullscreen-popup-content">
            <span class="close-fullscreen">&times;</span>
            <img id="fullscreen-popup-img" src="" alt="Product Image">
            <h3 id="fullscreen-popup-title"></h3>
            <p id="fullscreen-popup-price"></p>
            <p id="fullscreen-popup-description"></p>
            <div class="button-container">
                <button>Save for later</button>
                <button>Add to Wishlist</button>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static "js/scripts.js" %}"></script>
{% endblock %}

{% block script %}
{% endblock %}
